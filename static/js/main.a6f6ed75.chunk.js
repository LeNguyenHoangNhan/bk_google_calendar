(this.webpackJsonpbk_google_calendar=this.webpackJsonpbk_google_calendar||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(4),i=n.n(r),l=(n(14),n(5)),s=n(6),o=n(2),d=n(9),u=n(8),h=(n(15),n(16),n(0));var g=function(e){return Object(h.jsxs)("div",{className:"guide-line_wrapper",children:[Object(h.jsx)("div",{className:"guide-line_number",children:e.num}),Object(h.jsx)("p",{className:"guide-line_description",children:e.text})]})};n(18);var b=function(e){return Object(h.jsx)("textarea",{type:"text",value:e.value,onChange:e.onChange,className:"calendar-input",placeholder:"CO2011\tM\xf4 h\xecnh h\xf3a to\xe1n h\u1ecdc..."})};var j=function(e){var t=e.classList.map((function(t,n){return Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)("input",{id:t.signature,type:"checkbox",name:t.name,value:t.signature,onChange:e.changeHandler,checked:t.selected}),Object(h.jsx)("label",{htmlFor:t.signature,children:t.name}),Object(h.jsx)("br",{})]},t.signature)}));return Object(h.jsx)(h.Fragment,{children:t})};var p=function(e){return Object(h.jsx)("button",{onClick:e.clickHandler,disabled:!e.isDownloadable,children:"T\u1ea3i xu\u1ed1ng"})};var m=n(22);function O(e,t,n){var a=n.match(/\d+/g),c=new Date(2021,7,16,a[0],a[1]),r=e-33,i=t-2;return c.setDate(c.getDate()+7*r+i),(c.toISOString().split(".")[0]+"Z").replace(/-/g,"").replace(/:/g,"")}function v(e){for(var t=[],n=0;n<e.week.length;n++)t.push(O(e.week[n],e.dayOfWeek,e.time[0]));return"BEGIN:VEVENT\nUID:".concat(Object(m.a)(),"\nDTSTAMP:").concat(((new Date).toISOString().split(".")[0]+"Z").replace(/-/g,"").replace(/:/g,""),"\nSUMMARY:").concat(e.name,"\nDESCRIPTION:M\xe3 m\xf4n: ").concat(e.ID,"\\nM\xe3 l\u1edbp: ").concat(e.group,"\nLOCATION:").concat(e.room,", ").concat(e.campus,"\nDTSTART:").concat(O(e.week[0],e.dayOfWeek,e.time[0]),"\nDTEND:").concat(O(e.week[0],e.dayOfWeek,e.time[1]),"\nRDATE:").concat(t.join(","),"\nEND:VEVENT")}var f=n(7),x=n.n(f),C=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={calendarInput:"",classList:[],timeTableValid:!1},a.handleCalendarInputChange=a.handleCalendarInputChange.bind(Object(o.a)(a)),a.handleCalendarSelect=a.handleCalendarSelect.bind(Object(o.a)(a)),a.handleDownload=a.handleDownload.bind(Object(o.a)(a)),a}return Object(s.a)(n,[{key:"handleCalendarInputChange",value:function(e){this.setState({calendarInput:e.target.value});var t=function(e){for(var t=e.split("\n"),n=t.length,a=[],c=0;c<n;c++){var r=t[c].split("\t");if(!(r.length<11)){var i=r[0].trim(),l=r[1].trim(),s=r[4].trim(),o=r[5].trim();if(!isNaN(parseInt(o,10))){o=parseInt(o,10);var d=r[7].trim().match(/\d+:\d+/g);if(null!==d){var u=r[8].trim(),h=r[9].trim(),g=r[10].trim().match(/\d+/g);null!==g&&a.push({signature:i+o.toString()+g.join(""),ID:i,name:l,dayOfWeek:o,time:d,room:u,campus:h,week:g,selected:!0,group:s})}}}}return a}(e.target.value);this.setState({classList:t})}},{key:"handleCalendarSelect",value:function(e){for(var t=e.target.value,n=this.state.classList,a=0;a<n.length;a++)n[a].signature===t&&(n[a].selected=!n[a].selected);this.setState({classList:n})}},{key:"handleDownload",value:function(e){var t=function(e){for(var t="BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//bkalendar//Google Calendar v1.0/VI",n=0;n<e.length;n++)e[n].selected&&(t+="\n".concat(v(e[n])));return t+"\nEND:VCALENDAR"}(this.state.classList),n=new Blob([t],{type:"text/calendar"});x.a.saveAs(n,"export.ics")}},{key:"render",value:function(){return Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsxs)("div",{id:"app_wrapper",children:[Object(h.jsx)("h1",{className:"header",children:"BK Google Calendar"}),Object(h.jsx)("hr",{className:"header_separator"}),Object(h.jsx)(g,{num:1,text:"Copy v\xe0 d\xe1n th\u1eddi kho\xe1 bi\u1ec3u c\u1ee7a b\u1ea1n v\xe0o \u0111\xe2y, nh\u1edb copy t\u1eeb \u201cH\u1ecdc k\u1ef3 1...\u201d  \u0111\u1ebfn cu\u1ed1i b\u1ea3ng nh\xe9."}),Object(h.jsx)(b,{value:this.state.calendarInput,onChange:this.handleCalendarInputChange}),Object(h.jsx)(g,{num:2,text:"Ch\u1ecdn m\xf4n h\u1ecdc m\xe0 b\u1ea1n mu\u1ed1n xu\u1ea5t th\u1eddi kho\xe1 bi\u1ec3u d\u01b0\u1edbi \u0111\xe2y."}),Object(h.jsx)(j,{classList:this.state.classList,changeHandler:this.handleCalendarSelect}),Object(h.jsx)(g,{num:3,text:"B\u1ea5m n\xfat T\u1ea3i xu\u1ed1ng \u0111\u1ec3 t\u1ea3i v\u1ec1 file ics nh\xe9."}),Object(h.jsx)(p,{isDownloadable:0!==this.state.classList.length&&0!==this.state.classList.filter((function(e){return e.selected})).length,clickHandler:this.handleDownload})]})})}}]),n}(c.a.Component),k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(C,{})}),document.getElementById("root")),k()}},[[20,1,2]]]);
//# sourceMappingURL=main.a6f6ed75.chunk.js.map